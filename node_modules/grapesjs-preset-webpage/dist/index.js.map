{"version":3,"file":"index.js","mappings":"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","sources":["webpack://grapesjs-preset-webpage/webpack/universalModuleDefinition","webpack://grapesjs-preset-webpage/webpack/bootstrap","webpack://grapesjs-preset-webpage/webpack/runtime/define property getters","webpack://grapesjs-preset-webpage/webpack/runtime/hasOwnProperty shorthand","webpack://grapesjs-preset-webpage/webpack/runtime/make namespace object","webpack://grapesjs-preset-webpage/./src/consts.ts","webpack://grapesjs-preset-webpage/./src/commands/openImport.ts","webpack://grapesjs-preset-webpage/./src/commands/index.ts","webpack://grapesjs-preset-webpage/./src/index.ts","webpack://grapesjs-preset-webpage/./src/blocks.ts","webpack://grapesjs-preset-webpage/./src/panels.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-preset-webpage\"] = factory();\n\telse\n\t\troot[\"grapesjs-preset-webpage\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const cmdImport = 'gjs-open-import-webpage';\nexport const cmdDeviceDesktop = 'set-device-desktop';\nexport const cmdDeviceTablet = 'set-device-tablet';\nexport const cmdDeviceMobile = 'set-device-mobile';\nexport const cmdClear = 'canvas-clear';\n","import type grapesjs from 'grapesjs';\nimport { RequiredPluginOptions } from '..';\n\nimport { cmdImport } from './../consts';\n\ntype CommandInterface = Parameters<grapesjs.Commands[\"add\"]>[1];\n\nexport default (editor: grapesjs.Editor, config: RequiredPluginOptions): CommandInterface => {\n  const pfx = editor.getConfig('stylePrefix');\n  const modal = editor.Modal;\n  const container = document.createElement('div');\n  const importLabel = config.modalImportLabel;\n  const importCnt = config.modalImportContent;\n  // @ts-ignore\n  const codeViewer = editor.CodeManager.getViewer('CodeMirror').clone();\n  let viewerEditor = codeViewer.editor;\n\n  // Init import button\n  const btnImp = document.createElement('button');\n  btnImp.type = 'button';\n  btnImp.innerHTML = config.modalImportButton;\n  btnImp.className = `${pfx}btn-prim ${pfx}btn-import`;\n  btnImp.onclick = e => {\n    editor.Css.clear();\n    editor.setComponents(viewerEditor.getValue().trim());\n    modal.close();\n  };\n\n  // Init code viewer\n  codeViewer.set({ ...{\n    codeName: 'htmlmixed',\n    theme: 'hopscotch',\n    readOnly: 0\n  }, ...config.importViewerOptions});\n\n  return {\n    run(editor) {\n      if (!viewerEditor) {\n        const txtarea = document.createElement('textarea');\n\n        if (importLabel) {\n          const labelEl = document.createElement('div');\n          labelEl.className = `${pfx}import-label`;\n          labelEl.innerHTML = importLabel;\n          container.appendChild(labelEl);\n        }\n\n        container.appendChild(txtarea);\n        container.appendChild(btnImp);\n        codeViewer.init(txtarea);\n        viewerEditor = codeViewer.editor;\n      }\n\n      modal.setTitle(config.modalImportTitle);\n      modal.setContent(container);\n      const cnt = typeof importCnt == 'function' ? importCnt(editor) : importCnt;\n      codeViewer.setContent(cnt || '');\n      modal.open().onceClose(() => editor.stopCommand(cmdImport))\n      viewerEditor.refresh();\n    },\n\n    stop() {\n      modal.close();\n    }\n  };\n};\n","import type grapesjs from 'grapesjs';\nimport { RequiredPluginOptions } from '..';\n\nimport openImport from './openImport';\nimport {\n  cmdImport,\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './../consts';\n\nexport default (editor: grapesjs.Editor, config: RequiredPluginOptions) => {\n  const { Commands } = editor;\n  const txtConfirm = config.textCleanCanvas;\n\n  Commands.add(cmdImport, openImport(editor, config));\n  Commands.add(cmdDeviceDesktop, {\n    run: ed => ed.setDevice('Desktop'),\n    stop: () => {},\n  });\n  Commands.add(cmdDeviceTablet, {\n    run: ed => ed.setDevice('Tablet'),\n    stop: () => {},\n  });\n  Commands.add(cmdDeviceMobile, {\n    run: ed => ed.setDevice('Mobile portrait'),\n    stop: () => {},\n  });\n  Commands.add(cmdClear, e => confirm(txtConfirm) && e.runCommand('core:canvas-clear'));\n}\n","import type grapesjs from 'grapesjs';\nimport commands from './commands';\nimport blocks from './blocks';\nimport panels from './panels';\n\nexport type PluginOptions = {\n  /**\n   * Which blocks to add.\n   * @default ['link-block', 'quote', 'text-basic']\n   */\n  blocks?: string[];\n\n  /**\n   * Add custom block options, based on block id.\n   * @default (blockId) => ({})\n   * @example (blockId) => blockId === 'quote' ? { attributes: {...} } : {};\n   */\n  block?: (blockId: string) => ({});\n\n  /**\n   * Modal import title.\n   * @default 'Import'\n   */\n  modalImportTitle?: string;\n\n  /**\n   * Modal import button text.\n   * @default 'Import'\n   */\n  modalImportButton?: string;\n\n  /**\n   * Import description inside import modal.\n   * @default ''\n   */\n  modalImportLabel?: string;\n\n  /**\n   * Default content to setup on import model open.\n   * Could also be a function with a dynamic content return (must be a string).\n   * @default ''\n   * @example editor => editor.getHtml()\n   */\n  modalImportContent?: string | ((editor: grapesjs.Editor) => string);\n\n  /**\n   * Code viewer (eg. CodeMirror) options.\n   * @default {}\n   */\n  importViewerOptions?: Record<string, any>;\n\n  /**\n   * Confirm text before clearing the canvas.\n   * @default 'Are you sure you want to clear the canvas?'\n   */\n  textCleanCanvas?: string;\n\n  /**\n   * Show the Style Manager on component change.\n   * @default true\n   */\n  showStylesOnChange?: boolean;\n\n  /**\n   * Load custom preset theme.\n   * @default true\n   */\n  useCustomTheme?: boolean;\n};\n\nexport type RequiredPluginOptions = Required<PluginOptions>;\n\nconst plugin: grapesjs.Plugin<PluginOptions> = (editor, opts: Partial<PluginOptions> = {}) => {\n  const config: RequiredPluginOptions = {\n    blocks: ['link-block', 'quote', 'text-basic'],\n    block: () => ({}),\n    modalImportTitle: 'Import',\n    modalImportButton: 'Import',\n    modalImportLabel: '',\n    modalImportContent: '',\n    importViewerOptions: {},\n    textCleanCanvas: 'Are you sure you want to clear the canvas?',\n    showStylesOnChange: true,\n    useCustomTheme: true,\n    ...opts,\n  };\n\n  if (config.useCustomTheme && typeof window !== 'undefined') {\n    const primaryColor = '#463a3c';\n    const secondaryColor = '#b9a5a6';\n    const tertiaryColor = '#804f7b';\n    const quaternaryColor = '#d97aa6';\n    const prefix = 'gjs-';\n    let cssString = '';\n\n    [\n      ['one', primaryColor],\n      ['two', secondaryColor],\n      ['three', tertiaryColor],\n      ['four', quaternaryColor],\n    ].forEach(([cnum, ccol]) => {\n      cssString += `\n        .${prefix}${cnum}-bg {\n          background-color: ${ccol};\n        }\n\n        .${prefix}${cnum}-color {\n          color: ${ccol};\n        }\n\n        .${prefix}${cnum}-color-h:hover {\n          color: ${ccol};\n        }\n      `;\n    });\n\n    const style = document.createElement('style');\n    style.innerText = cssString;\n    document.head.appendChild(style);\n  }\n\n  // Load blocks\n  blocks(editor, config);\n\n  // Load commands\n  commands(editor, config);\n\n  // Load panels\n  panels(editor, config);\n}\n\nexport default plugin;\n","import type grapesjs from 'grapesjs';\nimport { RequiredPluginOptions } from '.';\n\nexport default (editor: grapesjs.Editor, opts: RequiredPluginOptions) => {\n  const addBlock = (id: string, def: grapesjs.BlockOptions) => {\n    opts.blocks.indexOf(id)! >= 0 && editor.Blocks.add(id, {\n      select: true,\n      category: 'Basic',\n      ...def,\n      ...opts.block(id),\n    });\n  }\n\n  addBlock('link-block', {\n    label: 'Link Block',\n    media: `<svg viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z\"></path>\n    </svg>`,\n    content: {\n      type: 'link',\n      editable: false,\n      droppable: true,\n      style: {\n        display: 'inline-block',\n        padding: '5px',\n        'min-height': '50px',\n        'min-width': '50px'\n      }\n    },\n  });\n\n  addBlock('quote', {\n    label: 'Quote',\n    media: `<svg viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z\" />\n    </svg>`,\n    content: `<blockquote class=\"quote\">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit\n      </blockquote>`\n  });\n\n  addBlock('text-basic', {\n    label: 'Text section',\n    media: `<svg viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z\" />\n    </svg>`,\n    content: `<section class=\"bdg-sect\">\n      <h1 class=\"heading\">Insert title here</h1>\n      <p class=\"paragraph\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>`\n  });\n}\n","import type grapesjs from 'grapesjs';\nimport { RequiredPluginOptions } from '.';\n\nimport {\n  cmdImport,\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './consts';\n\nexport default (editor: grapesjs.Editor, opts: RequiredPluginOptions) => {\n  const { Panels } = editor;\n  const config = editor.getConfig();\n  const swv = 'sw-visibility';\n  const expt = 'export-template';\n  const osm = 'open-sm';\n  const otm = 'open-tm';\n  const ola = 'open-layers';\n  const obl = 'open-blocks';\n  const ful = 'fullscreen';\n  const prv = 'preview';\n  const iconStyle = 'style=\"display: block; max-width:22px\"';\n\n  // @ts-ignore\n  config.showDevices = false;\n\n  Panels.getPanels().reset([\n    {\n      id: 'commands',\n      buttons: [{}],\n    },\n    {\n      id: 'devices-c',\n      buttons: [{\n        id: cmdDeviceDesktop,\n        command: cmdDeviceDesktop,\n        active: true,\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z\" />\n        </svg>`\n      },{\n        id: cmdDeviceTablet,\n        command: cmdDeviceTablet,\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z\" />\n        </svg>`\n      },{\n        id: cmdDeviceMobile,\n        command: cmdDeviceMobile,\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z\" />\n        </svg>`\n      }]\n    },\n    {\n      id: 'options',\n      buttons: [{\n        id: swv,\n        command: swv,\n        context: swv,\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z\" />\n    </svg>`,\n      },{\n        id: prv,\n        context: prv,\n        command: () => editor.runCommand(prv),\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z\"></path></svg>`\n      },{\n        id: ful,\n        command: ful,\n        context: ful,\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z\" />\n        </svg>`\n      },{\n        id: expt,\n        command: () => editor.runCommand(expt),\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z\" />\n        </svg>`\n      },{\n        id: 'undo',\n        command: () => editor.runCommand('core:undo'),\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z\" />\n        </svg>`\n      },{\n        id: 'redo',\n        command: () => editor.runCommand('core:redo'),\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z\" />\n        </svg>`,\n      },{\n        id: cmdImport,\n        command: () => editor.runCommand(cmdImport),\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z\" />\n        </svg>`,\n      },{\n        id: cmdClear,\n        command: () => editor.runCommand(cmdClear),\n        label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n              <path fill=\"currentColor\" d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\" />\n          </svg>`,\n      }],\n  },{\n    id: 'views',\n    buttons  : [{\n      id: osm,\n      command: osm,\n      active: true,\n      label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z\" />\n        </svg>`,\n    },{\n      id: otm,\n      command: otm,\n      label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z\" />\n      </svg>`\n    },{\n      id: ola,\n      command: ola,\n      label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z\" />\n      </svg>`\n    },{\n      id: obl,\n      command: obl,\n      label: `<svg ${iconStyle} viewBox=\"0 0 24 24\">\n          <path fill=\"currentColor\" d=\"M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\" />\n      </svg>`\n    }],\n  }]);\n\n  const openBl = Panels.getButton('views', obl);\n  editor.on('load', () => openBl?.set('active', true));\n\n  // On component change show the Style Manager\n  opts.showStylesOnChange && editor.on('component:selected', () => {\n    const openSmBtn = Panels.getButton('views', osm);\n    const openLayersBtn = Panels.getButton('views', ola);\n\n    // Don't switch when the Layer Manager is on or\n    // there is no selected component\n    if ((!openLayersBtn || !openLayersBtn.get('active')) && editor.getSelected()) {\n      openSmBtn?.set('active', true);\n    }\n  });\n}\n"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","cmdImport","cmdDeviceDesktop","cmdDeviceTablet","cmdDeviceMobile","cmdClear","editor","config","Commands","txtConfirm","textCleanCanvas","add","pfx","getConfig","modal","Modal","container","document","createElement","importLabel","modalImportLabel","importCnt","modalImportContent","codeViewer","CodeManager","getViewer","clone","viewerEditor","btnImp","type","innerHTML","modalImportButton","className","onclick","e","Css","clear","setComponents","getValue","trim","close","set","codeName","theme","readOnly","importViewerOptions","run","txtarea","labelEl","appendChild","init","setTitle","modalImportTitle","setContent","cnt","open","onceClose","stopCommand","refresh","stop","openImport","ed","setDevice","confirm","runCommand","opts","blocks","block","showStylesOnChange","useCustomTheme","forEach","cnum","ccol","style","innerText","head","addBlock","id","def","indexOf","Blocks","select","category","label","media","content","editable","droppable","display","padding","commands","Panels","swv","expt","osm","otm","ola","obl","ful","prv","iconStyle","showDevices","getPanels","reset","buttons","command","active","context","openBl","getButton","on","openSmBtn","openLayersBtn","getSelected","panels"],"sourceRoot":""}